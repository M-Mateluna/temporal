<script>
(function(){
  var imgdir = '<?=$POSICION."img/".$CSS_STYLE."/rows/";?>';

  // 1) Crear frames
  var url_cp = "clienteproveedor.php";
  window.frame_cp = new MyIFrame('frame_cp','CLIENTE / PROVEEDOR','', imgdir);
  frame_cp.height = 180;
  frame_cp.src    = url_cp;
  frame_cp.show(true);

  var url_sv = "guardado.php";
  window.frame_save = new MyIFrame('frame_save','CLIENTE / PROVEEDOR GUARDADO','', imgdir);
  frame_save.height = 200;
  frame_save.src    = url_sv;
  frame_save.show(true);
  frame_save.contract();

  // 2) Insertar en el contenedor solo si los nodos existen
  var host = document.getElementById('hostFrames');

  function safeAppend(id){
    var el = document.getElementById(id);
    // el.nodeType === 1 asegura que es un Element
    if (host && el && el.nodeType === 1 && el.parentNode !== host){
      host.appendChild(el);
    }
  }

  // Ejecutar tras el siguiente tick por si el render es as√≠ncrono
  setTimeout(function(){
    safeAppend('frame_cp');
    safeAppend('frame_save');
  }, 0);
})();
</script>
