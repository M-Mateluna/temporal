<script type="text/javascript">
  // === Wrapper para el componente IU_MSGBOX (estándar Desis) ===
  var MSGBOX = {
    ventana: typeof IU_MSGBOX,
    initialize: function () {
      this.ventana = new IU_MSGBOX();
    },
    Abrir: function (conf) {
      this.ventana.titulo    = conf.titulo || 'Aviso';
      var texto              = conf.texto  || '';
      this.ventana.texto     = '<center>' + texto + '</center>';
      this.ventana.botonera  = conf.botonera || 1;          // 1 = Solo Aceptar
      this.ventana.conCerrar = (conf.conCerrar !== undefined) ? conf.conCerrar : this.ventana.conCerrar;
      this.ventana.fnretorno = conf.fnretorno || 'MSGBOX.fnretorno';
      this.ventana.titulocss = conf.titulocss || this.ventana.titulocss;

      // Ruta base del sistema y ajustes de stacking sobre el lightbox
      this.ventana.url    = '<?=$POSICION?>';
      this.ventana.top    = conf.top || '25%';
      this.ventana.zzIndex = 9999;   // asegurar que quede sobre el lightbox

      this.ventana.Messagebox();
    },
    fnretorno: function () {
      // Cierra el messagebox al presionar Aceptar
      MSGBOX.ventana.HideInfo();
    }
  };
  MSGBOX.initialize();

  // === Modifica tu handler para usar MSGBOX cuando no haya selección ===
  function irAPagina(){
    let sel = document.getElementById("selBanco");
    let txt = sel.options[sel.selectedIndex] ? sel.options[sel.selectedIndex].text : "";

    if (!txt) {
      MSGBOX.Abrir({
        titulocss: 'titulorojomsgbox',                  // estilo existente en tu proyecto
        titulo   : 'Advertencia',
        texto    : 'Debe seleccionar un banco, para abrir el lightbox.',
        botonera : 1,                                    // Solo Aceptar
        conCerrar: false
      });
      return;
    }

    // Si hay selección, abrir el segundo lightbox con el nombre del banco
    let L = new IU();
    L.ShowInfoWidget("lb_detalle.php?nombre="+encodeURIComponent(txt), 380, 720, "cerrarLBInterno");
    window.cerrarLBInterno = function(){ L.HideInfo(); };
  }
</script>
