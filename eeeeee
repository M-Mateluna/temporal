// controlador.js ‚Äî MessageBox (usa $POSICION entregado por index como 'posicion')
// Solo LET. Sin autodetecci√≥n de rutas. Sin tocar componentes.

let MSGBOX = {
  ventana: undefined,

  initialize: function () {
    this.ventana = new IU_MSGBOX();
  },

  Abrir: function (conf) {
    // T√≠tulo y texto centrado
    this.ventana.titulo = conf.titulo || 'Aviso';
    let texto = conf.texto || '';
    this.ventana.texto = '<center>' + texto + '</center>';

    // Botonera (1 = Aceptar)
    this.ventana.botonera = (conf.botonera != null) ? conf.botonera : 1;

    // Comportamiento/estilos opcionales
    this.ventana.conCerrar = (conf.conCerrar != undefined) ? conf.conCerrar : this.ventana.conCerrar;
    this.ventana.fnretorno = conf.fnretorno || 'retGenerico';
    if (conf.titulocss) this.ventana.titulocss = conf.titulocss;

    // üîë Base URL del componente desde PHP ($POSICION)
    this.ventana.url = (typeof posicion !== 'undefined') ? posicion : '';

    this.ventana.top    = conf.top || '25%';
    this.ventana.objeto = conf.objeto || {};
    this.ventana.Messagebox();
    this.ventana.zzIndex = 2;
  }
};

MSGBOX.initialize();

// --- Ejemplo: bot√≥n ‚ÄúSolo Aceptar‚Äù ---
let btnSoloAceptar = document.getElementById('btnSoloAceptar');
if (btnSoloAceptar) {
  btnSoloAceptar.addEventListener('click', function () {
    MSGBOX.Abrir({
      titulo: 'Informaci√≥n',
      texto: 'Este MessageBox solo muestra el bot√≥n Aceptar.',
      botonera: 1,
      titulocss: 'titulorojomsgbox',
      fnretorno: 'retGenerico',
      conCerrar: false
    });
  });
}

// Retorno gen√©rico (cierra)
function retGenerico(resp) {
  MSGBOX.ventana.HideInfo();
}
