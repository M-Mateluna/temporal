// --- z-index alto para que el MSGBOX siempre quede sobre el overlay del lightbox
let MSGBOX = {
  ventana: undefined,
  initialize() { this.ventana = new IU_MSGBOX(); },
  Abrir(conf) {
    this.ventana.titulo    = conf.titulo || 'Aviso';
    this.ventana.texto     = '<center>' + (conf.texto || '') + '</center>';
    this.ventana.botonera  = (conf.botonera != null) ? conf.botonera : 1;
    this.ventana.titulocss = conf.titulocss || 'tituloazulmsgbox';
    this.ventana.conCerrar = (conf.conCerrar != undefined) ? conf.conCerrar : this.ventana.conCerrar;
    this.ventana.fnretorno = conf.fnretorno || 'retMsgOnlyClose';
    this.ventana.url       = posicion;
    this.ventana.top       = '25%';
    this.ventana.objeto    = conf.objeto || {};
    // 👇 poner ANTES del Messagebox el z-index bien alto
    this.ventana.zzIndex   = conf.zzIndex || 5000;
    this.ventana.Messagebox();
  }
};
MSGBOX.initialize();

// Primer lightbox: sin “tarjeta”, centrado y limpio
let UI = null;
function CerrarLB(){ if (UI) UI.HideInfo(); }

function abrirSelectorBancos(){
  if (!UI) UI = new IU();
  // ShowInfoWidget(iframe, alto, ancho, funcion_cerrar, top_offset)
  UI.ShowInfoWidget('lb_bancos.php', 480, 900, 'CerrarLB', 120);
}

document.addEventListener('DOMContentLoaded', () => {
  const b = document.getElementById('btnAbrirLB');
  if (b) b.onclick = abrirSelectorBancos;
});
